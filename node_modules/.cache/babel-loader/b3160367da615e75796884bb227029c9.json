{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Dev\\\\Documents\\\\AssignmentRepo\\\\src\\\\Figures.js\";\nimport React, { Component } from \"react\";\nimport * as THREE from \"three\";\nimport OrbitControls from \"three-orbitcontrols\";\nimport e1 from \"./textures/2_no_clouds_4k.jpg\";\nimport e2 from \"./textures/elev_bump_4k.jpg\";\nimport e3 from \"./textures/water_4k.png\";\n\nclass Figures extends Component {\n  constructor(props) {\n    super(props);\n\n    this.addShapes = () => {\n      console.log(\"addShapes\", this.props.dimensions);\n\n      if (this.props.dimensions.length !== 0) {\n        this.props.dimensions.map(dim => {\n          if (dim[1][1] === \"cube\") {\n            console.log(\"cube\", this.props.dimensions);\n            var geometry1 = new THREE.BoxGeometry(dim[7][1], dim[7][1], dim[7][1]);\n            var material1 = new THREE.MeshLambertMaterial({\n              color: dim[2][1]\n            });\n            var boxMesh = new THREE.Mesh(geometry1, material1);\n            this.scene.add(boxMesh);\n            boxMesh.position.set(dim[3][1], dim[4][1], dim[5][1]);\n          } else if (dim[1][1] === \"sphere\") {\n            console.log(\"sphere\", this.props.dimensions);\n            var geometrys = new THREE.SphereGeometry(dim[7][1], 32, 32);\n            var materials = new THREE.MeshLambertMaterial({\n              color: dim[2][1]\n            });\n            var sphereMesh = new THREE.Mesh(geometrys, materials);\n            this.scene.add(sphereMesh);\n            sphereMesh.position.set(dim[3][1], dim[4][1], dim[5][1]);\n          } else if (dim[1][1] === \"cone\") {\n            var geometryc = new THREE.ConeGeometry(dim[8][1], dim[7][1], 64);\n            var materialc = new THREE.MeshBasicMaterial({\n              color: dim[2][1]\n            });\n            var coneMesh = new THREE.Mesh(geometryc, materialc);\n            this.scene.add(coneMesh);\n            coneMesh.position.set(dim[3][1], dim[4][1], dim[5][1]);\n          } else if (dim[1][1] === \"cuboid\") {\n            var geometrycu = new THREE.BoxGeometry(dim[8][1], dim[9][1], dim[7][1]);\n            var materialcu = new THREE.MeshLambertMaterial({\n              color: dim[2][1]\n            });\n            var cuboidMesh = new THREE.Mesh(geometrycu, materialcu);\n            this.scene.add(cuboidMesh);\n            cuboidMesh.position.set(dim[3][1], dim[4][1], dim[5][1]);\n          }\n        });\n      }\n\n      console.log(\"Afteraddshapes\", this.props.dimensions);\n    };\n\n    this.cameraSetup = () => {\n      const width = this.el.clientWidth;\n      const height = this.el.clientHeight;\n\n      if (this.props.dimensions !== 0) {\n        this.props.dimensions.map(dim => {\n          if (dim[6][1] === \"front\") {\n            this.camera.position.z = dim[5][1];\n            this.camera.position.x = dim[3][1];\n            this.camera.position.y = dim[4][1];\n            this.camera.rotation.y = 90 * THREE.Math.DEG2RAD;\n          } else if (dim[6][1] === \"top\") {\n            this.camera.position.z = dim[5][1] - 20;\n            this.camera.position.x = dim[3][1] - 15;\n            this.camera.position.y = dim[4][1];\n            this.camera.rotation.x = -90 * THREE.Math.DEG2RAD;\n          }\n        });\n      }\n    };\n\n    this.sceneSetup = () => {\n      const width = this.el.clientWidth;\n      const height = this.el.clientHeight;\n      this.scene = new THREE.Scene();\n      this.camera = new THREE.PerspectiveCamera(75, width / height, 0.1, 1000);\n      this.camera.position.z = 30;\n      this.camera.position.y = 5;\n      this.camera.lookAt(0, 0, 0); // var helper = new THREE.CameraHelper( this.camera );\n      // this.scene.add( helper );\n\n      this.controls = new OrbitControls(this.camera, this.el);\n      this.renderer = new THREE.WebGLRenderer({\n        antialias: true\n      });\n      this.renderer.setClearColor(\"#000000\");\n      this.renderer.setSize(width, height);\n      this.el.appendChild(this.renderer.domElement);\n      this.scene.add(new THREE.AmbientLight(0x333333));\n      var light = new THREE.PointLight(0xffffff, 1);\n      light.position.set(10, 10, 10);\n      this.scene.add(light);\n      var lights = new THREE.AmbientLight(0x333333);\n      this.scene.add(lights);\n      lights.position.set(40, 30, 30);\n      light = new THREE.DirectionalLight(0xffffff, 1);\n      this.scene.add(light);\n      var curve = new THREE.EllipseCurve(0, 0, // ax, aY\n      30, 20, // xRadius, yRadius\n      0, 2 * Math.PI, // aStartAngle, aEndAngle\n      false, // aClockwise\n      20 // aRotation\n      );\n      var points = curve.getPoints(50);\n      var geometryel = new THREE.BufferGeometry().setFromPoints(points);\n      var materialel = new THREE.LineBasicMaterial({\n        color: 0xffffff\n      });\n      var ellipse = new THREE.Line(geometryel, materialel);\n      this.scene.add(ellipse);\n    };\n\n    this.addModels = () => {\n      var geometry = new THREE.SphereGeometry(10, 35, 35);\n      var material = new THREE.MeshPhongMaterial({\n        map: THREE.ImageUtils.loadTexture(e1),\n        bumpMap: THREE.ImageUtils.loadTexture(e2),\n        bumpScale: 0.005,\n        specularMap: THREE.ImageUtils.loadTexture(e3),\n        specular: new THREE.Color(\"grey\")\n      });\n      this.earthMesh = new THREE.Mesh(geometry, material);\n      this.scene.add(this.earthMesh);\n      this.earthMesh.position.set(0, 0, 0);\n    };\n\n    this.start = () => {\n      //this.earthMesh.rotation.x += 0.01;\n      this.earthMesh.rotation.y += 0.01;\n      this.renderer.render(this.scene, this.camera); // The window.requestAnimationFrame() method tells the browser that you wish to perform\n      // an animation and requests that the browser call a specified function\n      // to update an animation before the next repaint\n\n      this.requestID = window.requestAnimationFrame(this.start);\n    };\n\n    this.handleWindowResize = () => {\n      const width = this.el.clientWidth;\n      const height = this.el.clientHeight;\n      this.renderer.setSize(width, height);\n      this.camera.aspect = width / height; // Note that after making changes to most of camera properties you have to call\n      // .updateProjectionMatrix for the changes to take effect.\n\n      this.camera.updateProjectionMatrix();\n    };\n\n    this.state = {\n      dimensions: props.dimensions\n    };\n  }\n\n  componentDidMount() {\n    this.sceneSetup();\n    this.addModels();\n    this.start();\n    window.addEventListener(\"resize\", this.handleWindowResize());\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    console.log(\"prevProps \", prevProps);\n    console.log(\"prevState \", prevState);\n\n    if (this.props.dimensions !== prevProps.dimensions && this.state.dimensions !== this.props.dimensions) {\n      console.log(\"Positions\", this.props.dimensions);\n      this.addShapes();\n      this.cameraSetup();\n    }\n  }\n\n  shouldComponentUpdate() {\n    return true;\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"resize\", this.handleWindowResize);\n    window.cancelAnimationFrame(this.requestID);\n    this.controls.dispose();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: \"1000px\",\n        height: \"692px\"\n      },\n      ref: ref => {\n        this.el = ref;\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 7\n      }\n    });\n  }\n\n}\n\nexport default Figures;","map":{"version":3,"sources":["C:/Users/Dev/Documents/AssignmentRepo/src/Figures.js"],"names":["React","Component","THREE","OrbitControls","e1","e2","e3","Figures","constructor","props","addShapes","console","log","dimensions","length","map","dim","geometry1","BoxGeometry","material1","MeshLambertMaterial","color","boxMesh","Mesh","scene","add","position","set","geometrys","SphereGeometry","materials","sphereMesh","geometryc","ConeGeometry","materialc","MeshBasicMaterial","coneMesh","geometrycu","materialcu","cuboidMesh","cameraSetup","width","el","clientWidth","height","clientHeight","camera","z","x","y","rotation","Math","DEG2RAD","sceneSetup","Scene","PerspectiveCamera","lookAt","controls","renderer","WebGLRenderer","antialias","setClearColor","setSize","appendChild","domElement","AmbientLight","light","PointLight","lights","DirectionalLight","curve","EllipseCurve","PI","points","getPoints","geometryel","BufferGeometry","setFromPoints","materialel","LineBasicMaterial","ellipse","Line","addModels","geometry","material","MeshPhongMaterial","ImageUtils","loadTexture","bumpMap","bumpScale","specularMap","specular","Color","earthMesh","start","render","requestID","window","requestAnimationFrame","handleWindowResize","aspect","updateProjectionMatrix","state","componentDidMount","addEventListener","componentDidUpdate","prevProps","prevState","shouldComponentUpdate","componentWillUnmount","removeEventListener","cancelAnimationFrame","dispose","ref"],"mappings":"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","sourcesContent":["import React, { Component}  from \"react\";\r\nimport * as THREE from \"three\";\r\nimport OrbitControls from \"three-orbitcontrols\";\r\nimport e1 from \"./textures/2_no_clouds_4k.jpg\";\r\nimport e2 from \"./textures/elev_bump_4k.jpg\";\r\nimport e3 from \"./textures/water_4k.png\";\r\n\r\nclass Figures extends Component {\r\n  \r\nconstructor(props) {\r\n    super(props);\r\n    this.state = {dimensions:props.dimensions};\r\n  }\r\n  componentDidMount() {\r\n    this.sceneSetup();\r\n    this.addModels();\r\n    this.start();\r\n    window.addEventListener(\"resize\", this.handleWindowResize());\r\n  }\r\n\r\n  componentDidUpdate(prevProps,prevState) {\r\n    \r\n    console.log(\"prevProps \", prevProps);\r\n    console.log(\"prevState \", prevState);\r\n\r\n   \r\n    if ((this.props.dimensions !== prevProps.dimensions) && (this.state.dimensions !== this.props.dimensions)) {\r\n      \r\n      \r\n      console.log(\"Positions\",this.props.dimensions);\r\n      this.addShapes();\r\n      this.cameraSetup();\r\n    \r\n    }\r\n\r\n  }\r\n  shouldComponentUpdate(){\r\n   return true;\r\n  }  \r\naddShapes = () =>{\r\n    console.log(\"addShapes\",this.props.dimensions);\r\n    \r\n   \r\n    if(this.props.dimensions.length !== 0) {\r\n    \r\n      this.props.dimensions.map((dim) =>{\r\n        if(dim[1][1] === \"cube\")\r\n        {  \r\n          console.log(\"cube\",this.props.dimensions);\r\n         var geometry1 = new THREE.BoxGeometry(dim[7][1],dim[7][1],dim[7][1]);\r\n         var material1 = new THREE.MeshLambertMaterial({color:dim[2][1]});\r\n         var boxMesh = new THREE.Mesh(geometry1, material1);\r\n         \r\n         this.scene.add(boxMesh);\r\n       \r\n        \r\n        boxMesh.position.set(dim[3][1],dim[4][1],dim[5][1]);\r\n         \r\n        \r\n       }\r\n       else if(dim[1][1] === \"sphere\")\r\n       {\r\n        console.log(\"sphere\",this.props.dimensions);\r\n         var geometrys = new THREE.SphereGeometry(dim[7][1],32,32);\r\n         var materials = new THREE.MeshLambertMaterial({color:dim[2][1]});\r\n         var sphereMesh = new THREE.Mesh(geometrys,materials);\r\n         this.scene.add(sphereMesh);\r\n         sphereMesh.position.set(dim[3][1],dim[4][1],dim[5][1]);\r\n       }\r\n       else if(dim[1][1] === \"cone\")\r\n       {\r\n         var geometryc = new THREE.ConeGeometry(dim[8][1],dim[7][1],64);\r\n         var materialc = new THREE.MeshBasicMaterial({color:dim[2][1]});\r\n         var coneMesh = new THREE.Mesh(geometryc, materialc);\r\n         this.scene.add(coneMesh);\r\n         coneMesh.position.set(dim[3][1],dim[4][1],dim[5][1]);\r\n       } \r\n   \r\n       else if(dim[1][1] === \"cuboid\")\r\n       {\r\n        \r\n         var geometrycu = new THREE.BoxGeometry(dim[8][1],dim[9][1],dim[7][1]);\r\n         var materialcu = new THREE.MeshLambertMaterial({color:dim[2][1]});\r\n         var cuboidMesh = new THREE.Mesh(geometrycu, materialcu);\r\n         \r\n         this.scene.add(cuboidMesh);\r\n       \r\n        \r\n        cuboidMesh.position.set(dim[3][1],dim[4][1],dim[5][1]);\r\n        \r\n       }\r\n       \r\n      } )\r\n    \r\n  \r\n    }\r\n    console.log(\"Afteraddshapes\",this.props.dimensions);\r\n  };\r\n \r\n  cameraSetup = () =>{\r\n    const width = this.el.clientWidth;\r\n    const height = this.el.clientHeight;\r\n\r\n    if(this.props.dimensions !== 0)\r\n    {\r\n      this.props.dimensions.map((dim) =>{\r\n        \r\n            if(dim[6][1] === \"front\"){\r\n           \r\n              this.camera.position.z = dim[5][1];\r\n              this.camera.position.x = dim[3][1];\r\n              this.camera.position.y = dim[4][1];\r\n              this.camera.rotation.y = 90* THREE.Math.DEG2RAD;\r\n            \r\n             }\r\n             else if(dim[6][1] === \"top\"){\r\n          \r\n              this.camera.position.z = dim[5][1]-20;\r\n              this.camera.position.x = dim[3][1]-15;\r\n              this.camera.position.y = dim[4][1];\r\n              this.camera.rotation.x = -90* THREE.Math.DEG2RAD;\r\n              \r\n             }\r\n         \r\n             \r\n      })\r\n    }\r\n  };\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"resize\", this.handleWindowResize);\r\n    window.cancelAnimationFrame(this.requestID);\r\n    this.controls.dispose();\r\n  }\r\n  \r\n  sceneSetup = () => {\r\n    const width = this.el.clientWidth;\r\n    const height = this.el.clientHeight;\r\n\r\n    this.scene = new THREE.Scene();\r\n\r\n    this.camera = new THREE.PerspectiveCamera(75, width / height, 0.1, 1000);\r\n    this.camera.position.z = 30;\r\n    this.camera.position.y = 5;\r\n    this.camera.lookAt(0,0,0);\r\n    \r\n    // var helper = new THREE.CameraHelper( this.camera );\r\n    // this.scene.add( helper );\r\n    this.controls = new OrbitControls(this.camera, this.el);\r\n\r\n    this.renderer = new THREE.WebGLRenderer({ antialias: true });\r\n    this.renderer.setClearColor(\"#000000\");\r\n    this.renderer.setSize(width, height);\r\n    this.el.appendChild(this.renderer.domElement);\r\n\r\n    this.scene.add(new THREE.AmbientLight(0x333333));\r\n    var light = new THREE.PointLight(0xffffff, 1);\r\n    light.position.set(10, 10, 10);\r\n     \r\n    this.scene.add(light);\r\n    var lights = new THREE.AmbientLight(0x333333)\r\n    this.scene.add(lights);\r\n    lights.position.set(40,30,30);\r\n    light = new THREE.DirectionalLight(0xffffff, 1);\r\n    this.scene.add(light);\r\n\r\n    var curve = new THREE.EllipseCurve(\r\n      0,  0,            // ax, aY\r\n      30, 20,           // xRadius, yRadius\r\n      0,  2 * Math.PI,  // aStartAngle, aEndAngle\r\n      false,            // aClockwise\r\n      20                 // aRotation\r\n    );\r\n    \r\n    var points = curve.getPoints( 50 );\r\n    var geometryel = new THREE.BufferGeometry().setFromPoints( points );\r\n    \r\n    var materialel = new THREE.LineBasicMaterial( { color : 0xffffff } );\r\n    var ellipse = new THREE.Line( geometryel, materialel );\r\n    this.scene.add(ellipse);\r\n  };\r\n\r\n  addModels = () => {\r\n    var geometry = new THREE.SphereGeometry(10, 35, 35);\r\n    var material = new THREE.MeshPhongMaterial({\r\n      map: THREE.ImageUtils.loadTexture(e1),\r\n      bumpMap: THREE.ImageUtils.loadTexture(e2),\r\n      bumpScale: 0.005,\r\n      specularMap: THREE.ImageUtils.loadTexture(e3),\r\n      specular: new THREE.Color(\"grey\"),\r\n    });\r\n    this.earthMesh = new THREE.Mesh(geometry, material);\r\n    this.scene.add(this.earthMesh);\r\n    this.earthMesh.position.set(0, 0, 0);\r\n    \r\n    \r\n    };\r\n  start = () => {\r\n    //this.earthMesh.rotation.x += 0.01;\r\n    this.earthMesh.rotation.y += 0.01;\r\n    \r\n    this.renderer.render(this.scene, this.camera);\r\n\r\n    // The window.requestAnimationFrame() method tells the browser that you wish to perform\r\n    // an animation and requests that the browser call a specified function\r\n    // to update an animation before the next repaint\r\n    this.requestID = window.requestAnimationFrame(this.start);\r\n  };\r\n  handleWindowResize = () => {\r\n    const width = this.el.clientWidth;\r\n    const height = this.el.clientHeight;\r\n\r\n    this.renderer.setSize(width, height);\r\n    this.camera.aspect = width / height;\r\n\r\n    // Note that after making changes to most of camera properties you have to call\r\n    // .updateProjectionMatrix for the changes to take effect.\r\n    this.camera.updateProjectionMatrix();\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        style={{ width: \"1000px\", height: \"692px\" }}\r\n        ref={(ref) => {\r\n          this.el = ref;\r\n        }}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default Figures;\r\n"]},"metadata":{},"sourceType":"module"}